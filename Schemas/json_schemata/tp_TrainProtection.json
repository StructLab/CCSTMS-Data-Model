{
  "$id": "https://ERJU/tp_TrainProtection",
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "definitions": {
    "tp.DriveProtectionSection": {
      "type": "object",
      "description": "Defines a DPS for a section of track",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "name": {
          "type": "string"
        },
        "linearElementSection": {
          "type": "object",
          "$ref": "#/definitions/infra.LinearElementSection"
        },
        "maxFlankProtectionSpeed": {
          "type": "integer",
          "minimum": 0
        }
      },
      "required": [
        "id",
        "name",
        "linearElementSection"
      ],
      "additionalProperties": false
    },
    "tp.ProtectedInfraElement": {
      "type": "object",
      "properties": {
        "switch": {
          "type": "string"
        },
        "slipCrossing": {
          "type": "string"
        },
        "crossing": {
          "type": "string"
        },
        "derailer": {
          "type": "string"
        },
        "levelCrossing": {
          "type": "string"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "required": [
            "switch"
          ]
        },
        {
          "type": "object",
          "required": [
            "slipCrossing"
          ]
        },
        {
          "type": "object",
          "required": [
            "crossing"
          ]
        },
        {
          "type": "object",
          "required": [
            "derailer"
          ]
        },
        {
          "type": "object",
          "required": [
            "levelCrossing"
          ]
        }
      ],
      "additionalProperties": false
    },
    "tp.DriveProtectionSectionGroup": {
      "type": "object",
      "description": "Defines the configuration of a DPS Group",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "driveProtectionSections": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.DriveProtectionSection"
          },
          "minItems": 1
        },
        "protectedInfraElements": {
          "type": "object",
          "$ref": "#/definitions/tp.ProtectedInfraElement"
        },
        "dependenciesType": {
          "type": "string",
          "enum": [
            "exclusive",
            "equivalent",
            "specific"
          ],
          "description": "defines dependencies between n drive protection sections"
        },
        "dpsgDependencies": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 0
          },
          "description": "contains row-wise bit matrix with column = index of the element in DriveProtectionSectionGroup. 0 means not allowed to use ; 1 means allowed to use for rail traffic.Each line in the matrix contains a valid state of the DriveProtectionSectionGroup ; Use only if DPSDependencyType == Specific"
        },
        "runTime": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the total time required for the DPS(s) in a DPS Group to switch from one position to the other"
        }
      },
      "required": [
        "id",
        "driveProtectionSections",
        "protectedInfraElements"
      ],
      "additionalProperties": false
    },
    "tp.AllocationSection": {
      "type": "object",
      "description": "Defines an allocation section for a section of track",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "linearReference": {
          "type": "object",
          "$ref": "#/definitions/infra.NetLinearReference"
        },
        "dependencies": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "description": "is dependent on the allocation sections"
        }
      },
      "required": [
        "id",
        "linearReference",
        "dependencies"
      ],
      "additionalProperties": false
    },
    "tp.ControlledInfraElement": {
      "type": "object",
      "properties": {
        "dpsGroup": {
          "type": "string"
        },
        "tvpSection": {
          "type": "string"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "required": [
            "dpsGroup"
          ]
        },
        {
          "type": "object",
          "required": [
            "tvpSection"
          ]
        }
      ],
      "additionalProperties": false
    },
    "tp.FieldObjectController": {
      "type": "object",
      "description": "Defines a Field Object Controller",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing ; structure refers to EULYNX EU.SAS.77"
        },
        "controlledInfraElements": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.ControlledInfraElement"
          },
          "minItems": 1
        },
        "belongsToAoc": {
          "type": "string",
          "description": "defines the Area of Control to which this field object controller belongs to"
        },
        "controlledBy": {
          "type": "object",
          "$ref": "#/definitions/tp.Controller",
          "description": "composes of controller controlling the Field Object Controller"
        }
      },
      "required": [
        "id",
        "controlledInfraElements",
        "belongsToAoc",
        "controlledBy"
      ],
      "additionalProperties": false
    },
    "tp.AreaOfControl": {
      "type": "object",
      "description": "Defines the Area of Control of a system like Traffic CS, MBS/APS, TMS, PE/EAL, ....",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing ; structure refers to EULYNX EU.SAS.77"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "area": {
          "type": "object",
          "$ref": "#/definitions/infra.NetAreaReference",
          "description": "composes of linked area"
        },
        "controlledBy": {
          "type": "object",
          "$ref": "#/definitions/tp.Controller",
          "description": "composes of controller controlling the Area of Control"
        }
      },
      "required": [
        "id",
        "area"
      ],
      "additionalProperties": false
    },
    "infra.LinearElement": {
      "type": "object",
      "description": "A linear element is an uninterrupted stretch of railway track, without divergence or convergence.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "lengthOfNetLinearElement": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the distance along the LinearElement's track centre line. "
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "infra.NetRelation": {
      "type": "object",
      "description": "Defines a relation between two elements.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "elementA": {
          "type": "string",
          "description": "References the first linear element in an oriented relation."
        },
        "elementB": {
          "type": "string",
          "description": "References the second linear element in an oriented relation."
        },
        "isOnOriginOfElementA": {
          "type": "boolean",
          "description": "Determines if the position of the topological element A in a relation is the origin of element A."
        },
        "isOnOriginOfElementB": {
          "type": "boolean",
          "description": "Determines if the position of the topological element B in a relation is the origin of element B."
        }
      },
      "required": [
        "id",
        "elementA",
        "elementB"
      ],
      "additionalProperties": false
    },
    "infra.TopoArea": {
      "type": "object",
      "description": "Defines a container for rail network topology",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "versionTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "version information which is valid since timestamp"
        },
        "linearElements": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.LinearElement"
          },
          "description": "composes of linear elements = Edges in the graph"
        },
        "netRelations": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.NetRelation"
          },
          "description": "composes of net relations =links between edges in the graph"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        }
      },
      "required": [
        "id",
        "versionTimestamp"
      ],
      "additionalProperties": false
    },
    "infra.Switch": {
      "type": "object",
      "description": "A unit of track comprising two fixed rails (stock rails) and two movable rails (switch rails) used to direct vehicles from one track to another track.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing ; structure refers to EULYNX EU.SAS.77"
        },
        "reversalTime": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the time in seconds to switch from one position to the other ; 0 means unknown"
        },
        "leftBranch": {
          "type": "string",
          "description": "NetRelation referencing the left side of the switch in the facing direction of the switch"
        },
        "rightBranch": {
          "type": "string",
          "description": "NetRelation referencing the right side of the switch in the facing direction of the switch"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        }
      },
      "required": [
        "id",
        "leftBranch",
        "rightBranch"
      ],
      "additionalProperties": false
    },
    "infra.SlipCrossing": {
      "type": "object",
      "description": "Defines the physical track asset Slip Crossing ; 2 instances simple point define a single slip crossing and 4 instances of simple point defined a double slip crossing ; Reversal time is the maximum of known reversal times of simple points. If the reversal time of at least one simple point in the slip point is unknown, the reversal time of the slip point is unknown as well.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "switches": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 2,
          "maxItems": 4,
          "description": "Consists of simple points"
        },
        "crossing": {
          "type": "string",
          "description": "Consists of crossing"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        }
      },
      "required": [
        "id",
        "switches",
        "crossing"
      ],
      "additionalProperties": false
    },
    "infra.Crossing": {
      "type": "object",
      "description": "Defines the physical track asset Crossing without possibility to switch between two track edges",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "topologicalCoordinates": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.TopologicalCoordinate"
          },
          "minItems": 2,
          "maxItems": 2,
          "description": "composes of topological coordinates"
        },
        "isSwitchable": {
          "type": "boolean",
          "description": "True: If the crossing is switchable ; False: If the crossing is not switchable ;https://commons.wikimedia.org/wiki/Category:Switched_diamond_crossings"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        }
      },
      "required": [
        "id",
        "topologicalCoordinates"
      ],
      "additionalProperties": false
    },
    "eng.BaliseGroup": {
      "type": "object",
      "description": "Defines a technical device group on the railway trackbed.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "etcsMVersion": {
          "type": "string",
          "enum": [
            "v1_0",
            "v1_1",
            "v2_0",
            "v2_1",
            "v_previous",
            "v_reserved",
            "v_invalid"
          ],
          "description": "This gives the version of the ETCS system. Each part indicates the first and second number of the version respectively: The first number distinguishes not compatible versions (The three MSBs)_ The second number indicates compatibility within a version X. (The four LSBs)"
        },
        "q_link": {
          "type": "boolean",
          "description": "true when the balise group is linked, otherwise, false (unlinked)"
        },
        "q_updown": {
          "type": "boolean",
          "description": "This defines the direction of information. True when it is Up-link (Track-to-Train) and false when it is Down-link (Train-to-Track)"
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "infra.SlopeSamplePoint": {
      "type": "object",
      "description": "Defines the Slope (gradient) of the track at a given location on the track.",
      "properties": {
        "pos": {
          "type": "integer",
          "minimum": 0,
          "description": "position on the associated LinearElement"
        },
        "samplePointSlope": {
          "type": "integer",
          "description": "Defines the vertical slope at pos, between the horizon and the track centre line. Viewed in the direction of the LinearElement. Positive for rising slope and negative for falling slope."
        }
      },
      "additionalProperties": false
    },
    "infra.CurveSamplePoint": {
      "type": "object",
      "description": "Defines curve (radius) of the track at a given location on the track.",
      "properties": {
        "pos": {
          "type": "integer",
          "minimum": 0,
          "description": "position on the associated LinearElement"
        },
        "sampleCurveRadius": {
          "type": "integer",
          "description": "Defines the radius at pos, negative-counter-clockwise/left-curve, positive-clockwise/right-curve"
        }
      },
      "additionalProperties": false
    },
    "infra.CantSamplePoint": {
      "type": "object",
      "description": "Defines the cant(superelevation) of the track at a given location on the track.",
      "properties": {
        "pos": {
          "type": "integer",
          "minimum": 0,
          "description": "position on the associated LinearElement"
        },
        "samplePointCant": {
          "type": "integer",
          "description": "Defines the height of the outer rail minus the inner rail. Outer rail and inner rail are defined according to the direction of curve.Rollangle=(arcsin(cant/gauge), gauge is distance between centers of rail-heads, e.g. 1500mm for EU-standard gauge."
        }
      },
      "additionalProperties": false
    },
    "infra.SampledLinearElementGeometry": {
      "type": "object",
      "description": "Defines the container sampled linear element geometry within INFRA Domain",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "slopes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.SlopeSamplePoint"
          },
          "minItems": 1,
          "description": "composes of slope sample points"
        },
        "curves": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.CurveSamplePoint"
          },
          "minItems": 1,
          "description": "composes of curve sample points"
        },
        "cants": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.CantSamplePoint"
          },
          "minItems": 1,
          "description": "composes of cant sample points"
        }
      },
      "required": [
        "id",
        "slopes",
        "curves",
        "cants"
      ],
      "additionalProperties": false
    },
    "infra.SpeedLimitCategory": {
      "type": "object",
      "description": "Defines the different applicable speed limit categories on the sections of track",
      "properties": {
        "otherCategoryReplacesCantDeficiencySSP": {
          "type": "string",
          "enum": [
            "SSSP_freightTrainP",
            "SSSP_freightTrainG",
            "SSSP_passengerTrain"
          ],
          "description": "is of type other Category Replaces Cant Deficiency SSP"
        },
        "otherCategoryDoesNotReplaceCantDeficiencySSP": {
          "type": "string",
          "enum": [
            "SSSP_freightTrainP",
            "SSSP_freightTrainG",
            "SSSP_passengerTrain"
          ],
          "description": "is of type other Category Replaces Cant Deficiency SSP"
        },
        "cantDeficiencyCategory": {
          "type": "string",
          "enum": [
            "CD_Undefined",
            "CD_80mm",
            "CD_100mm",
            "CD_130mm",
            "CD_150mm",
            "CD_165mm",
            "CD_180mm",
            "CD_210mm",
            "CD_225mm",
            "CD_245mm",
            "CD_275mm",
            "CD_300mm"
          ],
          "description": "is of type Cant Deficiency Category"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "required": [
            "otherCategoryReplacesCantDeficiencySSP"
          ]
        },
        {
          "type": "object",
          "required": [
            "otherCategoryDoesNotReplaceCantDeficiencySSP"
          ]
        },
        {
          "type": "object",
          "required": [
            "cantDeficiencyCategory"
          ]
        }
      ],
      "additionalProperties": false
    },
    "infra.SpecificStaticSpeedLimit": {
      "type": "object",
      "description": "Defines the specific static speed profile for a section of track",
      "properties": {
        "speed": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the applicablespeed for the section of track ; Resolution min 5 kmph"
        },
        "specificLimitCategory": {
          "type": "object",
          "$ref": "#/definitions/infra.SpeedLimitCategory",
          "description": "defines different specific speed limit categories"
        }
      },
      "required": [
        "specificLimitCategory"
      ],
      "additionalProperties": false
    },
    "infra.StaticSpeedLimit": {
      "type": "object",
      "description": "Defines the static speed profile for a section of linear element",
      "properties": {
        "pos": {
          "type": "integer",
          "minimum": 0,
          "description": "position on the associated LinearElement"
        },
        "speed": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the applicable speed for the section of track ; Resolution min 5 kmph"
        },
        "specificStaticSpeedLimits": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.SpecificStaticSpeedLimit"
          },
          "description": "composes of specific static speed profiles"
        }
      },
      "additionalProperties": false
    },
    "infra.AxleLoadSpeedProfile": {
      "type": "object",
      "description": "Defines the axle load speed profile for a section of track or a section of SegmentProfile",
      "properties": {
        "startPos": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the start position on the associated Linear element"
        },
        "endPos": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the end position on the associated Linear element"
        },
        "speed": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the applicablespeed for the section of track ; Resolution min 5 kmph"
        },
        "axleLoadCategory": {
          "type": "string",
          "enum": [
            "AL_A",
            "AL_HS17",
            "AL_B1",
            "AL_B2",
            "AL_C2",
            "AL_C3",
            "AL_C4",
            "AL_D2",
            "AL_D3",
            "AL_D4",
            "AL_D4XL",
            "AL_E4",
            "AL_E5"
          ],
          "description": "defines different axle load categories"
        }
      },
      "additionalProperties": false
    },
    "infra.SpeedProfile": {
      "type": "object",
      "description": "Defines the different applicable speed profiles on the sections of track",
      "properties": {
        "staticSpeedProfile": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.StaticSpeedLimit"
          },
          "minItems": 1,
          "description": "composes of static speed profiles"
        },
        "axleLoadSpeedProfiles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.AxleLoadSpeedProfile"
          },
          "description": "composes of axle load speed profiles"
        }
      },
      "required": [
        "staticSpeedProfile"
      ],
      "additionalProperties": false
    },
    "infra.LinearElementSpeedProfile": {
      "type": "object",
      "description": "Defines the permitted speeds for a linear element in both directions",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "sameDirProfile": {
          "type": "object",
          "$ref": "#/definitions/infra.SpeedProfile",
          "description": "Defines the speed profile valid in the same direction as the Linear element"
        },
        "oppositeDirProfile": {
          "type": "object",
          "$ref": "#/definitions/infra.SpeedProfile",
          "description": "Defines the applicable speed profile for the opposite direction of travel with reference to linear element. valid in the opposite direction as the TrackEdge. Skip if the same in both directions."
        }
      },
      "required": [
        "id",
        "sameDirProfile"
      ],
      "additionalProperties": false
    },
    "map.LinearElementCoordinate": {
      "type": "object",
      "properties": {
        "pos": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines position on the associated LinearElement"
        },
        "x": {
          "type": "number",
          "description": "Defines the x coordiante value, mapping to each EPSG-code"
        },
        "y": {
          "type": "number",
          "description": "Defines the y coordiante value, mapping to each EPSG-code"
        },
        "z": {
          "type": "number",
          "description": "Defines the z coordiante value, mapping to each EPSG-code"
        },
        "accPos": {
          "type": "integer",
          "minimum": 0,
          "description": "absolute accuracy as 1sigma. Use 0 if not defined"
        },
        "accX": {
          "type": "number",
          "description": "absolute accuracy as 1sigma. Use 0.0 if not defined"
        },
        "accY": {
          "type": "number",
          "description": "absolute accuracy as 1sigma. Use 0.0 if not defined"
        },
        "accZ": {
          "type": "number",
          "description": "absolute accuracy as 1sigma. Use 0.0 if not defined"
        }
      },
      "additionalProperties": false
    },
    "map.LinearElementProjection": {
      "type": "object",
      "properties": {
        "linearElement": {
          "type": "string"
        },
        "coordinates": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/map.LinearElementCoordinate"
          },
          "minItems": 2,
          "description": "Defines a sequence of coordinates representing a mapping of a linear element"
        }
      },
      "required": [
        "linearElement",
        "coordinates"
      ],
      "additionalProperties": false
    },
    "map.FunctionalElementRef": {
      "type": "object",
      "properties": {
        "switch": {
          "type": "string",
          "description": "refers to switch/simple point"
        },
        "etcsMarker": {
          "type": "string",
          "description": "refers to ETCS marker"
        },
        "stopLocation": {
          "type": "string",
          "description": "refers to stop location"
        },
        "timingPoint": {
          "type": "string",
          "description": "Defines a reference to a timing point"
        },
        "operationalPoint": {
          "type": "string",
          "description": "Defines a reference to an operational point (station, siding etc)."
        },
        "balise": {
          "type": "string",
          "description": "Defines a reference to a functional balise"
        }
      },
      "oneOf": [
        {
          "type": "object",
          "required": [
            "switch"
          ]
        },
        {
          "type": "object",
          "required": [
            "etcsMarker"
          ]
        },
        {
          "type": "object",
          "required": [
            "stopLocation"
          ]
        },
        {
          "type": "object",
          "required": [
            "timingPoint"
          ]
        },
        {
          "type": "object",
          "required": [
            "operationalPoint"
          ]
        },
        {
          "type": "object",
          "required": [
            "balise"
          ]
        }
      ],
      "additionalProperties": false
    },
    "map.FunctionalElementProjection": {
      "type": "object",
      "properties": {
        "elementRef": {
          "type": "object",
          "$ref": "#/definitions/map.FunctionalElementRef",
          "description": "Defines reference container for which the coodinate is defined"
        },
        "x": {
          "type": "number",
          "description": "todo: mapping to each EPSG-code"
        },
        "y": {
          "type": "number",
          "description": "todo: mapping to each EPSG-code"
        },
        "z": {
          "type": "number",
          "description": "todo: mapping to each EPSG-code"
        },
        "accX": {
          "type": "number",
          "description": "absolute accuracy as 1sigma. Use 0.0 if not defined"
        },
        "accY": {
          "type": "number",
          "description": "absolute accuracy as 1sigma. Use 0.0 if not defined"
        },
        "accZ": {
          "type": "number",
          "description": "absolute accuracy as 1sigma. Use 0.0 if not defined"
        }
      },
      "required": [
        "elementRef"
      ],
      "additionalProperties": false
    },
    "map.Map": {
      "type": "object",
      "description": "Defines Map for an area",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "versionTimestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Defines the version information which is valid since timestamp"
        },
        "areaId": {
          "type": "string",
          "description": "Defines the areaIds for a Map. There could be several maps representing one area"
        },
        "epsg": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the applicable EPSG code for the map area. Use 1 for monitor coordinates"
        },
        "linearElementProjections": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/map.LinearElementProjection"
          },
          "description": "Defines container for projections of linearElements on same mapping system"
        },
        "functionalElements": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/map.FunctionalElementProjection"
          },
          "description": "Defines a container for a reference to a functional element of the infrastructure"
        }
      },
      "required": [
        "id",
        "versionTimestamp",
        "areaId"
      ],
      "additionalProperties": false
    },
    "infra.Bridge": {
      "type": "object",
      "description": "Defines the civil infrastructure object bridge",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "areaReference": {
          "type": "object",
          "$ref": "#/definitions/infra.NetAreaReference",
          "description": "composes of track area"
        }
      },
      "required": [
        "id",
        "areaReference"
      ],
      "additionalProperties": false
    },
    "infra.NetAreaReference": {
      "type": "object",
      "description": "Represents an area reference in the network.",
      "properties": {
        "includes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.NetLinearReference"
          },
          "minItems": 1,
          "description": "List of linear references included in an network area reference."
        }
      },
      "required": [
        "includes"
      ],
      "additionalProperties": false
    },
    "infra.LevelCrossing": {
      "type": "object",
      "description": "A level crossing is an intersection where a railway line crosses a road or a path at the same level. It can be used for the implementation of the ETCS trackside or to identify potential collision scenarios",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "areaReference": {
          "type": "object",
          "$ref": "#/definitions/infra.NetAreaReference",
          "description": "composes of track area"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        }
      },
      "required": [
        "id",
        "areaReference"
      ],
      "additionalProperties": false
    },
    "infra.LinearElementSection": {
      "type": "object",
      "description": "Defines a directed linear object (with a linear extension) located on a LinearElement",
      "properties": {
        "onElement": {
          "type": "string",
          "description": "refers to linear element"
        },
        "startOffsetFromOrigin": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the start offset from the origin"
        },
        "endOffsetFromOrigin": {
          "type": "integer",
          "minimum": 0,
          "description": "Defines the end offset from the origin"
        },
        "appliesInBothDirections": {
          "type": "boolean",
          "description": "Defines if the section applies in both directions"
        }
      },
      "required": [
        "onElement"
      ],
      "additionalProperties": false
    },
    "infra.TrackCondition": {
      "type": "object",
      "description": "Defines the TrackConditions for a section of track",
      "properties": {
        "linearElementSections": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.LinearElementSection"
          },
          "minItems": 1,
          "description": "composes of track edge sections"
        },
        "conditionType": {
          "type": "string",
          "enum": [
            "powerlessLowPanthograph",
            "powerlessMainSwitch",
            "airTightness",
            "soundHorn",
            "nonStoppingArea",
            "tunnelStoppingArea",
            "bigMetalMasses",
            "radioHole",
            "switchOffRegenerativeBrake",
            "switchOffEddyCurrentBrakeForServiceBrake",
            "switchOffEddyCurrentBrakeForEmergencyBrake",
            "switchOffMagneticShoeBrake"
          ],
          "description": "defines different track conditions"
        }
      },
      "required": [
        "linearElementSections"
      ],
      "additionalProperties": false
    },
    "infra.NetLinearReference": {
      "type": "object",
      "description": "Defines a linked path on the topology",
      "properties": {
        "startsAt": {
          "type": "object",
          "$ref": "#/definitions/infra.TopologicalCoordinate",
          "description": "Definesthe starting coordinate of a linear reference"
        },
        "endsAt": {
          "type": "object",
          "$ref": "#/definitions/infra.TopologicalCoordinate",
          "description": "Defines the ending coordinate of a linear reference."
        },
        "hasSequence": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Defines a sequence of linearElements from the start to the end excluding those defined in startAt- and endsAt-TopologicalCoodinates."
        }
      },
      "required": [
        "startsAt",
        "endsAt"
      ],
      "additionalProperties": false
    },
    "infra.PlatformEdge": {
      "type": "object",
      "description": "Platform for the purpose of RINF is understood as a platform edge. A platform concerns only the part of the structure neighbouring to the track (interfaced with trains).",
      "properties": {
        "platformId": {
          "type": "string",
          "description": "Unique platform identification or unique platform number within an Operational Point."
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "linearReference": {
          "type": "object",
          "$ref": "#/definitions/infra.NetLinearReference",
          "description": "composes of linked path"
        },
        "stopLocations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "description": "Defines the stop locations. Add only, if stopLocation can be used on that PlatformEdge for passenger/freight exchange"
        },
        "platformHeight": {
          "type": "string",
          "enum": [
            "PH_200mm",
            "PH_300_380mm",
            "PH_550mm",
            "PH_580mm",
            "PH_680mm",
            "PH_685mm",
            "PH_730mm",
            "PH_760mm",
            "PH_840mm",
            "PH_900mm",
            "PH_915mm",
            "PH_920mm",
            "PH_960mm",
            "PH_1100mm"
          ],
          "description": "Distance between the upper surface of platform and running surface of the neighbouring track. It is the nominal value expressed in millimetres."
        }
      },
      "required": [
        "platformId",
        "linearReference",
        "stopLocations"
      ],
      "additionalProperties": false
    },
    "infra.TopologicalCoordinate": {
      "type": "object",
      "description": "Defines a topological coordinate on the track",
      "properties": {
        "onLinearElement": {
          "type": "string",
          "description": "is positioned on linear element"
        },
        "offsetFromOrigin": {
          "type": "integer",
          "minimum": 0,
          "description": "position on the associated NetElement"
        }
      },
      "required": [
        "onLinearElement"
      ],
      "additionalProperties": false
    },
    "eng.FoulingPoint": {
      "type": "object",
      "description": "the point on a railway track beyond which a train is not allowed to proceed if another train or object is occupying that   portion of the track",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "name": {
          "type": "string",
          "description": "User-friendly name, only if different from id"
        },
        "topologicalCoordinate": {
          "type": "object",
          "$ref": "#/definitions/infra.TopologicalCoordinate",
          "description": "Defines the point location on the linear element"
        }
      },
      "required": [
        "id",
        "topologicalCoordinate"
      ],
      "additionalProperties": false
    },
    "tp.RBCConfigurationPacket": {
      "type": "object",
      "properties": {
        "rbcArea": {
          "type": "object",
          "$ref": "#/definitions/tp.AreaOfControl"
        },
        "topoAreas": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.TopoArea"
          },
          "minItems": 1,
          "description": "copies of involved topo-areas"
        },
        "switches": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.Switch"
          },
          "minItems": 1
        },
        "slipCrossings": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.SlipCrossing"
          }
        },
        "crossings": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.Crossing"
          }
        },
        "baliseGroups": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/eng.BaliseGroup"
          }
        },
        "etcsMarkers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.ETCSMarker"
          }
        },
        "sampledLinearElementGeometries": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.SampledLinearElementGeometry"
          },
          "minItems": 1
        },
        "linearElementSpeedProfiles": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.LinearElementSpeedProfile"
          },
          "minItems": 1
        },
        "maps": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/map.Map"
          },
          "minItems": 1
        },
        "bridges": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.Bridge"
          }
        },
        "levelCrossings": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.LevelCrossing"
          }
        },
        "trackConditions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.TrackCondition"
          }
        },
        "platformEdges": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/infra.PlatformEdge"
          }
        },
        "foulingPoints": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/eng.FoulingPoint"
          },
          "minItems": 1
        }
      },
      "required": [
        "rbcArea",
        "topoAreas",
        "switches",
        "sampledLinearElementGeometries",
        "linearElementSpeedProfiles",
        "maps",
        "foulingPoints"
      ],
      "additionalProperties": false
    },
    "tp.ETCSMarker": {
      "type": "object",
      "description": "Defines the ETCS Marker Boards ",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing"
        },
        "markerType": {
          "type": "string",
          "enum": [
            "exit",
            "entry",
            "intermediate"
          ],
          "description": "Defines the type of marker board associated"
        },
        "acknowledgementDistance": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 0
          },
          "description": "tbd"
        },
        "maxTransitionSpeed": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 0
          },
          "description": "tbd"
        },
        "offsetTransitionUnreachable": {
          "type": "array",
          "items": {
            "type": "integer",
            "minimum": 0
          },
          "description": "tbd"
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "tp.Controller": {
      "type": "object",
      "description": "Defines a controller",
      "properties": {
        "id": {
          "type": "string",
          "description": "Identity of the object; used for referencing ; structure refers to EULYNX EU.SAS.77"
        },
        "iPAddress": {
          "type": "string",
          "description": "defines the ip address for communication purposes"
        },
        "rastaId": {
          "type": "string",
          "description": "defines EULYNX RaSTA identifier for the field object controller"
        },
        "portNumber": {
          "type": "string",
          "description": "defines the port number for communication purposes"
        },
        "eulynxBaseline": {
          "type": "string",
          "description": "defines EULYNX baseline for the filed object controller"
        },
        "version": {
          "type": "integer",
          "minimum": 0,
          "description": "defines the EULYNX field object controller version"
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    },
    "tp.TrainProtectionArea": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "dpsGroups": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.DriveProtectionSectionGroup"
          }
        },
        "allocationSections": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.AllocationSection"
          }
        },
        "fieldObjectControllers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.FieldObjectController"
          }
        },
        "areaOfControl": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.AreaOfControl"
          }
        },
        "rbc": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.RBCConfigurationPacket"
          }
        },
        "etcsMarkers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.ETCSMarker"
          }
        },
        "controllers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/tp.Controller"
          }
        }
      },
      "required": [
        "id"
      ],
      "additionalProperties": false
    }
  },
  "type": "object",
  "properties": {
    "tpArea": {
      "type": "array",
      "items": {
        "type": "object",
        "$ref": "#/definitions/tp.TrainProtectionArea"
      }
    }
  },
  "additionalProperties": false
}